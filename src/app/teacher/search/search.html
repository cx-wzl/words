<div class="search-content">
  <input
    type="search"
    class="search-input"
    placeholder="è¾“å…¥å•è¯åæŒ‰å›è½¦æœç´¢..."
    (input)="onSearchInput()"
    (keydown.enter)="onSearchEnter($event)"
  />
  <div class="search-audio">
    @if (word()) {
    <audio
      #wordAudio
      [src]="'https://dict.youdao.com/dictvoice?audio=' + word() + '&type=1'"
      autoplay
    ></audio>
    <button mat-icon-button (click)="wordAudio.play()">ğŸ”Š</button>
    }
  </div>

  @if (word()) {
  <div class="bookcase-section">
    <!-- å•è¯æ‰€åœ¨çš„ bookcase -->
    <div class="bookcase-group">
      <h3>ğŸ“š å·²æ”¶è—åˆ°</h3>
      @if (wordInBookcases().length === 0) {
      <p class="empty-hint">è¯¥å•è¯æœªè¢«æ”¶è—åˆ°ä»»ä½•è¯ä¹¦ä¸­</p>
      } @else {
      <div class="bookcase-chips">
        @for (bc of wordInBookcases(); track bc.folder) {
        <div class="bookcase-chip in-bookcase">
          <span class="chip-label">{{ bc.title }} - {{ bc.subTitle }}</span>
          <button
            mat-icon-button
            class="chip-action remove"
            (click)="removeFromBookcase(bc)"
            title="ä»æ­¤è¯ä¹¦ç§»é™¤"
          >
            <mat-icon>close</mat-icon>
          </button>
        </div>
        }
      </div>
      }
    </div>

    <!-- å¯æ·»åŠ çš„ bookcase -->
    <div class="bookcase-group">
      <h3>â• å¯æ·»åŠ åˆ°</h3>
      @if (wordNotInBookcases().length === 0) {
      <p class="empty-hint">è¯¥å•è¯å·²å­˜åœ¨äºæ‰€æœ‰è¯ä¹¦ä¸­</p>
      } @else {
      <div class="bookcase-chips">
        @for (bc of wordNotInBookcases(); track bc.folder) {
        <div class="bookcase-chip not-in-bookcase">
          <span class="chip-label">{{ bc.title }} - {{ bc.subTitle }}</span>
          <button
            mat-icon-button
            class="chip-action add"
            (click)="addToBookcase(bc)"
            title="æ·»åŠ åˆ°æ­¤è¯ä¹¦"
          >
            <mat-icon>add</mat-icon>
          </button>
        </div>
        }
      </div>
      }
    </div>
  </div>
  } @if (loading()) {
  <div class="loading">åŠ è½½ä¸­...</div>
  }
</div>
