@switch (card()) {
  @case ('start') {
    <div class="spell-start">
      <h1>ğŸ”¤ Spelling Word</h1>
      <button matButton="filled" (click)="startGame()">Game Start</button>
    </div>
  }
  @case ('spell') {
    <div class="spell-game">
      <div class="spell-process">Process: {{ process() }}</div>
      @let currentWordVal = currentWord();
      <div cdkDropListGroup class="spell-word">
        <div class="word-display">
          <!-- <label>å½“å‰å•è¯: {{ currentWordVal }}</label> -->
          <!-- <button matIconButton class="play-btn" (click)="wordAudio.play()">ğŸ”Š</button> -->
          <!-- <audio
            #wordAudio
            [src]="'https://dict.youdao.com/dictvoice?audio=' + currentWordVal + '&type=1'"
            autoplay
          ></audio> -->
        </div>
        <div>
          <div class="drop-letters">
            @for (solt of dropLetterSlots; track solt; let i = $index) {
              <div
                cdkDropList
                #dropLetterList="cdkDropList"
                [cdkDropListData]="{ slots: dropLetterSlots, value: solt.letter, index: i }"
                [cdkDropListEnterPredicate]="dropLetterSlotsPredicate"
                (cdkDropListDropped)="drop($event, i)"
                (click)="clearLetter(i)"
                class="letter"
              >
                {{ solt.letter }}
              </div>
            }
          </div>
          <div
            cdkDropList
            #dragLetterList="cdkDropList"
            [cdkDropListData]="{ slots: dragLetterSlots }"
            (cdkDropListDropped)="drop($event, -1)"
            class="drag-letters"
          >
            @for (solt of dragLetterSlots; track solt; let i = $index) {
              <div cdkDrag class="letter">
                {{ solt.letter }}
              </div>
            }
          </div>
        </div>
        @if (showResult()) {
          <div>
            @if (isCorrect()) {
              <span class="correct">âœ… æ­£ç¡®!</span>
              <audio src="right.mp3" autoplay></audio>
            } @else {
              <span class="error">âŒ é”™è¯¯! æ­£ç¡®ç­”æ¡ˆ: {{ currentWordVal }}</span>
              <audio src="error.mp3" autoplay></audio>
            }
          </div>
        }
        <div>
          @if (showResult()) {
            <button matButton="filled" (click)="nextWord()">Next</button>
          } @else {
            <button
              matButton="filled"
              [disabled]="dragLetterSlots.length > 0"
              (click)="checkWord()"
            >
              Check
            </button>
          }
        </div>
      </div>
      <div class="spell-score">
        <span class="correct">âœ… {{ correctCount() }}</span>
        <span class="wrong">âŒ {{ errorCount() }}</span>
      </div>
    </div>
  }
  @case ('result') {
    <div class="spell-result"></div>
  }
}
